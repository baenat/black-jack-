const blackJack=(()=>{"use strict";let e=[],t=["C","D","H","S"],r=["A","J","Q","K"],l=[],n=document.querySelector("#btnNewGame"),a=document.querySelector("#btnGetCard"),o=document.querySelector("#btnStop"),d=document.querySelectorAll("strong"),s=document.querySelectorAll(".div-cards"),i=e=>{let t=[...e],r=t.length;for(let l=0;l<r;l++){let n=Math.floor(Math.random()*r),a=t[n];t[n]=t[l],t[l]=a}return t},c=(t=2)=>{e=u(),l=[];for(let r=0;r<t;r++)l.push(0),d[r].innerText=0,s[r].innerHTML="";m(!1)},u=()=>{e=[];for(let l=2;l<=10;l++)for(let n of t)e.push(l+n);for(let a of t)for(let o of r)e.push(o+a);return i(e)},$=()=>{if(0==e.length)throw"No hay m\xe1s cartas disponibles";return e.pop()},g=e=>{let t=e.slice(0,e.length-1);return isNaN(t)?"A"==t?11:10:parseInt(t)},_=(e,t)=>(l[t]=l[t]+g(e),d[t].innerText=l[t],l[t]),f=(e,t)=>{let r=document.createElement("img");r.classList.add("img-card"),r.src=`./assets/cards/${e}.png`,s[t].appendChild(r)},h=()=>{let[e,t]=l;setTimeout(()=>{t===e?alert("Nadie ha ganado \uD83D\uDE44 !!"):e>21?alert("Computadora gano \uD83C\uDF89 !!"):t>21?alert("Jugador gano \uD83D\uDE0E !!"):alert("Computadora gano \uD83D\uDE0E !!")},100)},p=e=>{let t=21,r=0;do{let n=l.length-1,a=$();r=_(a,n),f(a,n)}while(e>r&&e<=t);h()},m=e=>{a.disabled=e,o.disabled=e,n.disabled=!e};return m(!0),a.addEventListener("click",()=>{let e=$(),t=_(e,0);if(f(e,0),t>21||21===t){m(!0),p(t);return}}),o.addEventListener("click",()=>{m(!0),p(l[0])}),n.addEventListener("click",()=>{c(2)}),{newGame:c}})();